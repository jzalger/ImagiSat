http://mbed.org/users/neilt6/code/MAX17048/#4f695111eb54
